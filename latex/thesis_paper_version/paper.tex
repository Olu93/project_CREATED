\documentclass[runningheads]{llncs}
% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.20 of 2017/10/04
%
%

\usepackage{templates/mainpreambel}

\input{references/commands}
\input{references/constants}

\makeglossaries
\loadglsentries[acronym]{./references/glossary.tex}

% \DeclareLanguageMapping{american}{american-apa}

% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following line
% to display URLs in blue roman font according to Springer's eBook style:
% \renewcommand\UrlFont{\color{blue}\rmfamily}

% \loadglsentries[acronym]{./references/glossary.tex}
\graphicspath{{figures/}}


\usepackage{subfiles} 

\begin{document}
%
\title{Contribution Title\thanks{Supported by organization x.}}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%
\author{First Author\inst{1}\orcidID{0000-1111-2222-3333} \and
Second Author\inst{2,3}\orcidID{1111-2222-3333-4444} \and
Third Author\inst{3}\orcidID{2222--3333-4444-5555}}
%
\authorrunning{F. Author et al.}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{Princeton University, Princeton NJ 08544, USA \and
Springer Heidelberg, Tiergartenstr. 17, 69121 Heidelberg, Germany
\email{lncs@springer.com}\\
\url{http://www.springer.com/gp/computer-science/lncs} \and
ABC Institute, Rupert-Karls-University Heidelberg, Heidelberg, Germany\\
\email{\{abc,lncs\}@uni-heidelberg.de}}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
The abstract should briefly summarize the contents of the paper in
15--250 words.

\keywords{First keyword  \and Second keyword \and Another keyword.}
\end{abstract}
%
%
%
% TODO: Put all the thesis content in the paper
% TODO: Change chapters to sections
% NOTE: Technical papers describe original solutions (theoretical, methodological or conceptual) in the field of IS Engineering. A technical paper should clearly describe the situation or problem tackled, the relevant state of the art, the position or solution suggested and its potential‚ as well as demonstrate the benefits of the contribution through a rigorous evaluation.
% NOTE: Limit is 16 pages


\section{Introduction}
\label{sec:intro}

\subsection{Motivation}
\label{sec:motivation}
\subfile{content/sections/sec_motivation}

\subsection{Problem Space}
\label{sec:challenges}
\subfile{content/sections/sec_challenges}



\subsection{Related Literature}
\label{sec:literature}
Many researchers have worked on counterfactuals and \Gls{PM}. 
Here, we combine the important concepts and discuss the various contributions to this thesis.
\subfile{content/sections/sec_literature}


\subsection{Research Question}
\label{sec:rq}
As we seek to make data-driven process models interpretable, we have to understand the exact purpose of this thesis. Hence, we establish the open challenges and how this thesis attempts to solve them. 
\subfile{content/sections/sec_rq}

\subsection{Outline}
\subfile{content/sections/sec_outline}



\section{Background}
\label{ch:prereq}
This chapter explores the most important concepts for this work. Hence, we focus on the problem domain, starting with an overview about \Gls{PM}. Afterwards, we discuss the nature of the data, we handle in this thesis by discussing \emph{Multivariate Discrete Time-Series}. Next, we introduce counterfactuals and establish how we characterise \emph{viable} counterfactuals. 

\subsection{Process Mining}
\label{sec:process}
This thesis focuses on processes and the modelling of process generated data. Hence, it is important to establish a common understanding for this field.
\subfile{content/sections/sec_pm}

\subsection{Multivariate Time-Series Modeling}
\label{sec:sequences}
The temporal and multivariate nature of \gls{instance} often turns \Gls{PM} into a Multivariate Time-Series Modeling problem. Therefore, it is necessary to establish an understanding for this type of data structure.
\subfile{content/sections/sec_mlts}


\subsection{Counterfactuals}
\label{sec:counterfactuals}
Counterfactuals are an important explanatory tool to understand a models' cause for decisions. Generating counterfactuals is main focus of this thesis. Hence, we establish the most important chateristics of counterfactuals in this section.

\subsubsection{What are Counterfactuals?}
\subfile{content/sections/sec_counterfactuals_criterions}

% \subsection{Other Criteria}
% \label{sec:other}
% \subfile{content/sections/sec_viability_other}

\subsubsection{The Challenges of Counterfactual Sequence Generation}
\subfile{content/sections/sec_counterfactuals_challenges}


\subsection{Formal Definitions}
\label{sec:formulas}
Before diving into the rest of this thesis, we have to establish preliminary definitions, we use in this work. With this definitions, we share a common formal understanding of mathematical descriptions of every concept used within this thesis. 
\subfile{content/sections/sec_formula}

\subsection{Representation}
\label{sec:representation}
\subfile{content/sections/sec_representation}

\subsection{Long-Short-Term Memory Models}
\label{sec:lstm}
\subfile{content/sections/sec_lstm}

\subsection{Damerau-Levenshtein}
\label{sec:damerau}
\subfile{content/sections/sec_damerau}

\subsection{Evolutionary Algorithms}
\label{sec:evo}
Many of our generative models are based on Evolutionary Algorithms. This section provides a small overview about this optimization technique.  
\subfile{content/sections/sec_evolutionary_tmp}

\section{Methods}
\label{ch:methods}
In this chapter, we describe details of our framework and discuss advantages and limitations. 
Therefore, we provide a more detailed overview and additionally describe all components. As the framework resembles the work of \citeauthor{hsieh_DiCE4ELInterpretingProcess_2021}\cite{hsieh_DiCE4ELInterpretingProcess}, we also discuss differences and similarities between both solutions. 
  % TODO: Add section references on chapter intros.

\subsection{Methodological Framework: CREATED}
\label{sec:framework}
\subsubsection{Architecture}
\subfile{content/sections/sec_framework}

\subsubsection{Differences to DiCE4EL}
\subfile{content/sections/sec_dice4el_framework}

\subsection{Semi-Structured Damerau-Levenshtein \\ Distance}
\label{sec:ssdld}
Before discussing the viability function, we have to introduce an edit-distance for sequences. An edit-distance is used to compute distance between two sequences. Therefore, they take their \emph{structural} patterns like the length or deletions or inserts into account. However, most approaches tend to focus on the sequence of items (letters or words) without taking into account that each item may have additional attributes. Therefore, we propose a custom edit-distance measure. 

\subsubsection{Semi-Structured Damerau-Levenshtein}
\subfile{content/sections/sec_viability_ssdld}

\subsubsection{Discussion}
\subfile{content/sections/sec_viability_ssdld_discussion}

\subsection{Viability Measure}
\label{sec:viability}
Earlier, in \autoref{sec:counterfactuals}, we have discussed what determines \emph{good} counterfactuals. However, we have not introduced our approach to operationalize the notion of \emph{viability}. To recall, a counterfactual is hardly useful, if it is vastly different from the factual example or, if it requires changes that are logically implausible. For instance, if patients are required to vastly change their behavior in many aspects of their life or change their race these counterfactuals are hardly useful for the patient or a medical professional. We are more interested in what we have to change \emph{at least}. Also, if the counterfactual is, per se, unrealistic or bears no change in outcome, we lack any interest in those counterfactuals, as well. For processes, these issues become even more complicated as they are semi-structured and often multivariate. How we operationalize these criteria is explained in the following.

\subsubsection{Similarity-Measure}
\label{sec:similarity}
\subfile{content/sections/sec_viability_similarity}

\subsubsection{Sparsity-Measure}
\label{sec:sparcity}
\subfile{content/sections/sec_viability_sparsity}

\subsubsection{Feasibility-Measure}
\label{sec:feasibility}
\subfile{content/sections/sec_viability_feasibility}
% \subsubsection{Feasibility Model: Markov Model}
% \label{sec:model_feasibility}
\subfile{content/sections/sec_model_feasibility}
\subfile{content/sections/sec_model_feasibility_discussion}

\subsubsection{Delta-Measure}
\label{sec:delta}
\subfile{content/sections/sec_viability_delta}

\subsubsection{Discussion}
\subfile{content/sections/sec_viability_closing_part}
% TODO: Add corr matrix here to show the level of correlation

\subsubsection{Differences to DiCE4EL}
\subfile{content/sections/sec_dice4el_viability}
 


\subsection{Prediction Model: LSTM}
\label{sec:model_prediction}
\subfile{content/sections/sec_model_lstm}


% \subsubsection{Generative Model: VAE}
% \label{sec:model_vae}
% \subfile{content/sections/sec_model_vae}

\subsection{Counterfactual Generators}
\label{sec:model_generation}
\subsubsection{Generative Model: Evolutionary Algorithm}
\label{sec:model_evolutionary}
\subfile{content/sections/sec_model_evolutionary}

\subsubsection{Baseline Model: Random Generator}
\subfile{content/sections/sec_model_random.tex}

\subsubsection{Baseline Model: Sample-Based Generator}
\subfile{content/sections/sec_model_samplebased.tex}

\subsubsection{Baseline Model: Case-Based Generator}
\subfile{content/sections/sec_model_casebased.tex}


\section{Evaluation}
\label{ch:evaluation}
In this chapter, we discuss the datasets, the preprocessing pipeline, and the final representation for each of the algorithms. All the experiments were run on a Windows machine with 12 processor cores (Intel Core i7-9750H CPU 2.60GHz) and 32 GB Ram. The main programming language was python. 
The models were mostly developed with Tensorflow\cite{abadi2016tensorflow} and NumPy\cite{2020NumPy-Array}. 
We provide the full code on Github\cite{hundogan_ThesisProjectCode_2022}. 
There, you will find instructions on how to install and run the experiments yourself.


\subsection{Datasets}
\label{sec:dataset_description}
\subfile{content/sections/sec_dataset_stats}
\subfile{content/sections/sec_dataset_preds}


\subsection{Preprocessing}
\label{sec:preprocessing}
\subfile{content/sections/sec_dataset_preprocessing}

\subsection{Experimental Setup}
\label{sec:experimental_setup}
\subfile{content/sections/sec_experimental_setup}






\section{Results}
\label{ch:results}
This chapter presents the results of each evaluation step. Furthermore, we analyse the results.

% Before testing any model we have to establish two crucial components of the viability measure. First, we require a prediction model which we want to explain using counterfactuals. This is relevant for determining the improvement that a counterfactual yileds in contrast to the factual. Second, we need to know to what extend any given counterfacual is feasbile given the dataset at hand. Therefore, we dedicate the first set of experiments to establishing these components.

% \subsection{Determine the Prediction Model}
% \subfile{content/sections/sec_experiment_0_prediction}

% \subsection{Determine the Feasibility Model}
% \subfile{content/sections/sec_experiment_0_feasibility}



% \subfile{content/sections/sec_experiment_2}
% \subfile{content/sections/sec_experiment_3}
% \subfile{content/sections/sec_experiment_4}
\subsection{Experiment 1: Model Selection}
\label{sec:experiment1}
\subsubsection{Model Configuration}
\subsubsection{Results}
\subfile{content/sections/sec_experiment_1_configuration_results}
\subsubsection{Discussion}
\subfile{content/sections/sec_experiment_1_configuration_discussion}
\subsubsection{Model Termination Point}
\subsubsection{Results}
\subfile{content/sections/sec_experiment_1_termination_results}
\subsubsection{Discussion}
\subfile{content/sections/sec_experiment_1_termination_discussion}
\subsubsection{Model Parameters}
\subsubsection{Results}
\subfile{content/sections/sec_experiment_1_hyperparams_results}
\subsubsection{Discussion}
\subfile{content/sections/sec_experiment_1_hyperparams_discussion}
% \subsubsection{Model Parameters}
\subsubsection{Model Candidates}
\subfile{content/sections/sec_experiment_1_xselection}



\subsection{Experiment 2: Comparing with Baseline Generators}
\label{sec:experiment2}
In this section we examine the results of each model's average viability across all datasets. 
\subsubsection{Results}
\subfile{content/sections/sec_experiment_4}
\subfile{content/sections/sec_experiment_5}
\subsubsection{Analysis}
\subfile{content/sections/sec_experiment_4_analysis}
\subfile{content/sections/sec_experiment_5_analysis}
% \attention{MENTION the RQ to have an approach which is \emph{process model agnositc}} 
% With these result, we are not able to to claim, that thew model consistently outperforms the other approaches.  Therefore, this section explores the results on different data-set sizes and types.


\subsection{Experiment 3: Evaluation under a different Viability Measure}
\label{sec:experiment3}
\subsubsection{Results}
\subfile{content/sections/sec_experiment_6}
\subsubsection{Analysis}
\subfile{content/sections/sec_experiment_6_analysis}

\subsection{Experiment 4: Qualitative Assessment}
\label{sec:experiment4}
\subsubsection{Results}
\subfile{content/sections/sec_experiment_7}
\subsubsection{Analysis}
\subfile{content/sections/sec_experiment_7_analysis}


\section{Discussion}
\label{ch:discussion}
In this chapter, we are going to reexamine many of the past decisions we made. We critically assess the results of experiments and how we interpret them. We also propose possible improvements and opportunities for future reasearch.

\subsection{Interpretation of Results}
\subfile{content/sections/sec_discussion_interpretation}

\subsection{Limitations}
\subfile{content/sections/sec_discussion_limitations}

\subsection{Improvements}
\subfile{content/sections/sec_discussion_improvements}


\subsection{Future Work}
\subfile{content/sections/sec_discussion_future}







\section{Conclusion}
\label{ch:conclusion}
\subfile{content/sections/sec_conclusion}


\section{First Section}
\subsection{A Subsection Sample}
Please note that the first paragraph of a section or subsection is
not indented. The first paragraph that follows a table, figure,
equation etc. does not need an indent, either.

Subsequent paragraphs, however, are indented.

\subsubsection{Sample Heading (Third Level)} Only two levels of
headings should be numbered. Lower level headings remain unnumbered;
they are formatted as run-in headings.

\paragraph{Sample Heading (Fourth Level)}
The contribution should contain no more than four levels of
headings. Table~\ref{tab1} gives a summary of all heading levels.

\begin{table}
\caption{Table captions should be placed above the
tables.}\label{tab1}
\begin{tabular}{|l|l|l|}
\hline
Heading level &  Example & Font size and style\\
\hline
Title (centered) &  {\Large\bfseries Lecture Notes} & 14 point, bold\\
1st-level heading &  {\large\bfseries 1 Introduction} & 12 point, bold\\
2nd-level heading & {\bfseries 2.1 Printing Area} & 10 point, bold\\
3rd-level heading & {\bfseries Run-in Heading in Bold.} Text follows & 10 point, bold\\
4th-level heading & {\itshape Lowest Level Heading.} Text follows & 10 point, italic\\
\hline
\end{tabular}
\end{table}


\noindent Displayed equations are centered and set on a separate
line.
\begin{equation}
x + y = z
\end{equation}
% Please try to avoid rasterized images for line-art diagrams and schemas. Whenever possible, use vector graphics instead (see Fig.~\ref{fig1}).

\begin{figure}
% \includegraphics[width=\textwidth]{fig1.eps}
% \caption{A figure caption is always placed below the illustration. Please note that short captions are centered, while long ones are justified by the macro package automatically.} \label{fig1} 
\end{figure}

\begin{theorem}
This is a sample theorem. The run-in heading is set in bold, while
the following text appears in italics. Definitions, lemmas,
propositions, and corollaries are styled the same way.
\end{theorem}
%
% the environments 'definition', 'lemma', 'proposition', 'corollary',
% 'remark', and 'example' are defined in the LLNCS documentclass as well.
%
\begin{proof}
Proofs, examples, and remarks have the initial word in italics,
while the following text appears in normal font.
\end{proof}
For citations of references, we prefer the use of square brackets
and consecutive numbers. Citations using labels or the author/year
convention are also acceptable. The following bibliography provides
a sample reference list with entries for journal
% articles~\cite{ref_article1}, an LNCS chapter~\cite{ref_lncs1}, a
% book~\cite{ref_book1}, proceedings without editors~\cite{ref_proc1},
% and a homepage~\cite{ref_url1}. Multiple citations are grouped
% \cite{ref_article1,ref_lncs1,ref_boo1},
% \cite{ref_article1,ref_book1,ref_proc1,ref_url1}.
%
% ---- Bibliography ----
%
% BibTeX users should specify bibliography style 'splncs04'.
% References will then be sorted and formatted in the correct style.
%
% \addbibresource{}
% \printglossary
\bibliographystyle{splncs04}
\bibliography{./references/bibliography.bib}
%
% \begin{thebibliography}{8}
% \bibitem{ref_article1}
% Author, F.: Article title. Journal \textbf{2}(5), 99--110 (2016)



% \bibitem{ref_lncs1}
% Author, F., Author, S.: Title of a proceedings paper. In: Editor,
% F., Editor, S. (eds.) CONFERENCE 2016, LNCS, vol. 9999, pp. 1--13.
% Springer, Heidelberg (2016). \doi{10.10007/1234567890}

% \bibitem{ref_book1}
% Author, F., Author, S., Author, T.: Book title. 2nd edn. Publisher,
% Location (1999)

% \bibitem{ref_proc1}
% Author, A.-B.: Contribution title. In: 9th International Proceedings
% on Proceedings, pp. 1--2. Publisher, Location (2010)

% \bibitem{ref_url1}
% LNCS Homepage, \url{http://www.springer.com/lncs}. Last accessed 4
% Oct 2017
% \end{thebibliography}
\end{document}
